<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="homepage_ninja_override" inherit_id="website.homepage" name="Ninja Quiz Homepage">
        <xpath expr="//div[@id='wrap']" position="replace">
            <div id="wrap" class="oe_structure oe_empty">
                <main class="ninja-quiz-container">
                    <div class="ninja-quiz-card">
                        <h1 class="title" t-out="request.env['ir.config_parameter'].sudo().get_param('theme_ninja_quiz.homepage_title', '¡Bienvenido a Ninja Quiz!')"/>
                        
                        <t t-if="request.params.get('pin_error') == '1'">
                            <div class="alert alert-danger mt-3">PIN inválido. Por favor, intenta de nuevo.</div>
                        </t>

                        <div class="pin-input-container">
                            <form action="/quiz/validate_pin" method="POST">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <div class="form-group">
                                    <input type="text" class="pin-input" name="pin" placeholder="Ingresa el PIN del juego" required="true"/>
                                </div>
                                <button type="submit" class="join-button">Entrar</button>
                            </form>
                        </div>
                    </div>
                </main>
            </div>
        </xpath>
    </template>
</odoo>